{% extends 'base.html.twig' %}

{% block title %}User index{% endblock %}

{% block body %}
    <div class="col-lg-8 mx-auto p-5 py-md-5">
		<div class="mt-3 text-center">
			<h1 class="h1 mb-2 display-4" style="color: white">Liste des utilisateurs</h1>
		</div>

		<div class="rg-4 pt-5 table-responsive">
			<table class="table table-striped table-hover text-center">
				<thead class="table-dark">
					<tr>
                        <th>Id</th>
                        <th>Nom d'utilisateur</th>
                        <th>Prénom</th>
                        <th>Nom</th>
                        <th>Date de naissance</th>
                        <th>Image de profile</th>
						<th>Dernière connexion</th>
                        <th>actions</th>
					</tr>
				</thead>
				<tbody>
					{% for user in users %}
						<tr>
							<td>{{ user.id }}</td>
                            <td>{{ user.username }}</td>
                            <td>{{ user.firstName }}</td>
                            <td>{{ user.lastName }}</td>
                            <td>{{ user.dateNaissance ? user.dateNaissance|date('Y-m-d') : '' }}</td>
                            <td>{% if user.profileImage != '' %}Oui{% else %}Non{% endif %}</td>
							<td>{{ user.lastConnection ? user.lastConnection|date('d-m-Y H:m:s') : '' }}</td>
                            <td>
								<a href="{{ path('app_user_edit', {'id': user.id}) }}" class="btn btn-warning">
									<i class="fa-solid fa-pen"></i> Modifier
								</a>
								{{ include('user/_delete_form.html.twig') }}
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="4">Il n'y a aucun utilisateur !</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>

		</div>
	</div>
{% endblock %}
